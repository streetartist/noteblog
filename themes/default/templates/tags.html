{% extends "base.html" %}

{% block title %}{{ page_title or ('标签 - ' ~ (site_title or 'Noteblog')) }}{% endblock %}

{% block content %}
<div class="tags-container">
    <div class="page-header">
        <h1 class="page-title">文章标签</h1>
        <p class="page-subtitle">按标签浏览文章</p>
    </div>
    
    {% if tags %}
        <div class="tags-content">
            <div class="tags-stats">
                <span class="total-tags">共 {{ tags|length }} 个标签</span>
            </div>
            
            <div class="tags-cloud">
                {% for tag in tags %}
                {% set tag_count = tag.post_count if tag.post_count is defined else (tag.posts|length if tag.posts is defined else 0) %}
                <a href="/tag/{{ tag.slug }}" class="tag-item" 
                   style="font-size: {{ 12 + (tag_count * 2) }}px; 
                          opacity: {{ 0.7 + (tag_count * 0.1) }}">
                    <span class="tag-name">{{ tag.name }}</span>
                    <span class="tag-count">{{ tag_count }}</span>
                </a>
                {% endfor %}
            </div>
            
            <div class="tags-alphabetical">
                <h3 class="section-title">按字母排序</h3>
                <div class="tags-list">
                    {% for tag in tags|sort(attribute='name') %}
                    {% set tag_count = tag.post_count if tag.post_count is defined else (tag.posts|length if tag.posts is defined else 0) %}
                    <div class="tag-list-item">
                        <a href="/tag/{{ tag.slug }}" class="tag-link">
                            <span class="tag-name">{{ tag.name }}</span>
                            <span class="tag-count">{{ tag_count }}</span>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% else %}
        <div class="empty-state">
            <i class="el-icon-collection-tag"></i>
            <h3>暂无标签</h3>
            <p>还没有创建任何标签，开始为您的文章添加标签吧！</p>
        </div>
    {% endif %}
</div>
{% endblock %}
