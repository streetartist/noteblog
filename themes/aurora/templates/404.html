{% extends "base.html" %}

{% block title %}{{ page_title or ('é¡µé¢æœªæ‰¾åˆ° - ' ~ (site_title or config.title or 'Noteblog')) }}{% endblock %}

{% block head %}
<style>
.error-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 60vh;
    text-align: center;
    padding: 2rem;
}

.error-code {
    font-size: 8rem;
    font-weight: 900;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 1rem;
    line-height: 1;
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

.error-title {
    font-size: 2rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
}

.error-description {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin-bottom: 2rem;
    max-width: 500px;
    line-height: 1.6;
}

.error-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 3rem;
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    padding: 0.75rem 2rem;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

.btn-secondary {
    background: var(--card-background);
    color: var(--text-primary);
    padding: 0.75rem 2rem;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 500;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-secondary:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
    transform: translateY(-2px);
}

.error-illustration {
    margin-bottom: 2rem;
    position: relative;
}

.error-illustration::before {
    content: 'ğŸŒŒ';
    font-size: 6rem;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0.1;
    animation: rotate 20s linear infinite;
}

@keyframes rotate {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to { transform: translate(-50%, -50%) rotate(360deg); }
}

.error-suggestions {
    background: var(--card-background);
    border-radius: 16px;
    padding: 2rem;
    border: 1px solid var(--border-color);
    max-width: 600px;
    width: 100%;
}

.suggestions-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
    text-align: left;
}

.suggestions-list {
    list-style: none;
    padding: 0;
    margin: 0;
    text-align: left;
}

.suggestions-list li {
    padding: 0.75rem 0;
    border-bottom: 1px solid var(--border-color);
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    transition: color 0.3s ease;
}

.suggestions-list li:last-child {
    border-bottom: none;
}

.suggestions-list li:hover {
    color: var(--text-primary);
}

.suggestions-list a {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
}

.suggestions-list a:hover {
    color: var(--secondary-color);
}

@media (max-width: 768px) {
    .error-code {
        font-size: 6rem;
    }
    
    .error-title {
        font-size: 1.5rem;
    }
    
    .error-description {
        font-size: 1rem;
    }
    
    .error-actions {
        flex-direction: column;
        align-items: center;
        width: 100%;
    }
    
    .btn-primary,
    .btn-secondary {
        width: 100%;
        max-width: 300px;
        justify-content: center;
    }
    
    .error-suggestions {
        padding: 1.5rem;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="main-content">
    <div class="error-container">
        <div class="error-illustration">
            <div class="error-code">404</div>
        </div>
        
        <h1 class="error-title">é¡µé¢æœªæ‰¾åˆ°</h1>
        <p class="error-description">
            æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨æˆ–å·²è¢«ç§»åŠ¨ã€‚å¯èƒ½æ˜¯é“¾æ¥é”™è¯¯ã€é¡µé¢å·²åˆ é™¤ï¼Œæˆ–è€…æ‚¨è¾“å…¥äº†é”™è¯¯çš„åœ°å€ã€‚
        </p>
        
        <div class="error-actions">
            <a href="{{ url_for('main.index') }}" class="btn-primary">
                <span>ğŸ </span>
                <span>è¿”å›é¦–é¡µ</span>
            </a>
            <a href="javascript:history.back()" class="btn-secondary">
                <span>â¬…ï¸</span>
                <span>è¿”å›ä¸Šé¡µ</span>
            </a>
        </div>
        
        <div class="error-suggestions">
            <h3 class="suggestions-title">æ‚¨å¯ä»¥å°è¯•ï¼š</h3>
            <ul class="suggestions-list">
                <li>
                    <span>ğŸ”</span>
                    <span>ä½¿ç”¨æœç´¢åŠŸèƒ½æŸ¥æ‰¾æ‚¨éœ€è¦çš„å†…å®¹</span>
                </li>
                <li>
                    <span>ğŸ“‚</span>
                    <span>æµè§ˆ<a href="{{ url_for('main.categories') }}">æ–‡ç« åˆ†ç±»</a>å‘ç°æ„Ÿå…´è¶£çš„å†…å®¹</span>
                </li>
                <li>
                    <span>ğŸ·ï¸</span>
                    <span>æŸ¥çœ‹<a href="{{ url_for('main.tags') }}">æ ‡ç­¾äº‘</a>æ¢ç´¢ç›¸å…³æ–‡ç« </span>
                </li>
                <li>
                    <span>ğŸ“š</span>
                    <span>è®¿é—®<a href="{{ url_for('main.archives') }}">æ–‡ç« å½’æ¡£</a>æŒ‰æ—¶é—´æµè§ˆ</span>
                </li>
                <li>
                    <span>ğŸ“§</span>
                    <span>å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·è”ç³»ç½‘ç«™ç®¡ç†å‘˜</span>
                </li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // æ·»åŠ ä¸€äº›äº¤äº’æ•ˆæœ
    const errorCode = document.querySelector('.error-code');
    
    // é¼ æ ‡ç§»åŠ¨æ—¶çš„è§†å·®æ•ˆæœ
    document.addEventListener('mousemove', (e) => {
        const x = (e.clientX - window.innerWidth / 2) / 50;
        const y = (e.clientY - window.innerHeight / 2) / 50;
        
        if (errorCode) {
            errorCode.style.transform = `translate(${x}px, ${y}px)`;
        }
    });
    
    // æœç´¢å»ºè®®åŠŸèƒ½
    const searchInput = document.querySelector('.search-input');
    if (searchInput) {
        searchInput.focus();
    }
    
    // è®°å½•404é”™è¯¯ï¼ˆå¯é€‰ï¼‰
    if (typeof gtag !== 'undefined') {
        gtag('event', '404', {
            'event_category': 'error',
            'event_label': window.location.pathname
        });
    }
});
</script>
{% endblock %}
